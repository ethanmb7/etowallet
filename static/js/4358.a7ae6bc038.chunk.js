"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[4358],{326745:(e,n,r)=>{r.d(n,{u:()=>useAppRoute});var t=r(654266);function useAppRoute(){return(0,t.lq)()}},338443:(e,n,r)=>{r.d(n,{m:()=>OptionList});var t=r(586330),o=r(514041),a=r(908867),s=r(17617),i=r(490343),d=r(391944),l=r(498356),u=r(259227),c=r(334439),m=r(831085),f=(0,o.createContext)({}),ExtraField=function({name:e,renderItem:n,item:r}){return(0,m.jsxs)(i.XStack,{justifyContent:"space-between",children:[(0,m.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",children:e}),(0,m.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",children:n({item:r})})]})},OptionItem=function({item:e,token:n,network:r,onPress:t}){var[{currencyInfo:{symbol:l}}]=(0,u.useSettingsPersistAtom)(),{extraFields:b,activeId:g}=(0,o.useContext)(f),x=g===e.id,p=(0,a.A)();return(0,m.jsx)(i.Stack,{px:"$5",py:"$2",children:(0,m.jsxs)(i.YStack,{group:!0,onPress:function(){return t?.({item:e})},borderWidth:s.A.hairlineWidth,borderColor:x?"$borderActive":"$borderSubdued",borderRadius:"$3",borderCurve:"continuous",overflow:"hidden",userSelect:"none",children:[(0,m.jsxs)(i.XStack,{bg:"$bgSubdued","$group-hover":{bg:"$bgHover"},"$group-press":{bg:"$bgActive"},"$group-":!0,px:14,py:12,jc:"space-between",ai:"center",children:[(0,m.jsxs)(i.XStack,{children:[(0,m.jsx)(i.Stack,{pr:"$3",children:(0,m.jsx)(d.o,{tokenImageUri:n.logoURI,networkImageUri:r?.logoURI})}),(0,m.jsxs)(i.YStack,{children:[(0,m.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"balance",formatterOptions:{tokenSymbol:n?.symbol},children:e.amount}),(0,m.jsx)(i.NumberSizeableText,{size:"$bodyMd",color:"$textSubdued",formatter:"value",formatterOptions:{currency:l},children:e.fiatValue})]})]}),e.isPending?(0,m.jsx)(i.Stack,{children:(0,m.jsx)(i.Badge,{badgeType:"info",children:p.formatMessage({id:c.ETranslations.global_pending})})}):null]}),b&&b.length>0?(0,m.jsx)(i.YStack,{py:12,px:14,gap:10,children:b.map((function(n){return(0,m.jsx)(o.Suspense,{fallback:null,children:(0,m.jsx)(ExtraField,{name:n.name,renderItem:n.renderItem,item:e})},n.name)}))}):null]})})},ListEmptyComponent=function(){var e=(0,a.A)();return(0,m.jsx)(i.Empty,{icon:"ClockTimeHistoryOutline",title:e.formatMessage({id:c.ETranslations.global_no_transactions_yet}),description:e.formatMessage({id:c.ETranslations.global_no_transactions_yet_desc})})},OptionList=function({items:e,token:n,network:r,onPress:a,onConfirmText:s,extraFields:d,ListHeaderComponent:u}){var c=(0,l.A)(),[b,g]=(0,o.useState)(e[0]?.id),[x,p]=(0,o.useState)(!1),h=(0,o.useCallback)((function({item:e}){return(0,m.jsx)(OptionItem,{item:e,token:n,network:r,onPress:function({item:e}){return g(e.id)}})}),[n,r]),k=(0,o.useCallback)((0,t.A)((function*(){var n=e.find((function(e){return e.id===b}));if(n)try{p(!0),yield a?.({item:n})}finally{p(!1)}})),[e,b,a]),j=(0,o.useMemo)((function(){return{extraFields:d,activeId:b}}),[d,b]),y=(0,o.useMemo)((function(){return!b||!e.find((function(e){return e.id===b&&!e.isPending}))}),[b,e]);return(0,m.jsx)(f.Provider,{value:j,children:(0,m.jsxs)(i.Stack,{children:[(0,m.jsx)(i.ListView,{estimatedItemSize:"$5",data:e,renderItem:h,ListHeaderComponent:u,ListEmptyComponent}),(0,m.jsx)(i.Page.Footer,{onConfirmText:s,confirmButtonProps:{onPress:k,disabled:y,loading:x},cancelButtonProps:{onPress:function(){c.pop()}}})]})})}},138584:(e,n,r)=>{r.d(n,{Py:()=>SimpleSpinnerSkeleton,am:()=>isLoadingState,bU:()=>PageFrame,o0:()=>isErrorState});var t=r(908867),o=r(490343),a=r(791088),s=r(334439),i=r(831085),PageErrOccurred=function({onPress:e}){var n=(0,t.A)();return(0,i.jsx)(o.Empty,{pt:"$32",icon:"ErrorOutline",title:n.formatMessage({id:s.ETranslations.global_an_error_occurred}),description:n.formatMessage({id:s.ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress:e,children:n.formatMessage({id:s.ETranslations.global_refresh})}})},SimpleSpinnerSkeleton=function(){return(0,i.jsxs)(o.Stack,{children:[(0,i.jsx)(o.Stack,{px:"$5",py:"$2",children:(0,i.jsx)(o.Skeleton.HeadingSm,{})}),Array.from({length:3}).map((function(e,n){return(0,i.jsxs)(a.c,{children:[(0,i.jsx)(o.Skeleton,{h:"$10",w:"$10",radius:"round"}),(0,i.jsxs)(o.Stack,{children:[(0,i.jsx)(o.Skeleton.BodyLg,{}),(0,i.jsx)(o.Skeleton.BodyMd,{})]})]},n)}))]})},isLoadingState=function({result:e,isLoading:n}){return Boolean(void 0===e&&(void 0===n||!0===n))},isErrorState=function({result:e,isLoading:n}){return Boolean(void 0===e&&!1===n)},PageFrame=function({children:e,loading:n,LoadingSkeleton:r,error:t,onRefresh:o}){return n?r?(0,i.jsx)(r,{}):null:t?(0,i.jsx)(PageErrOccurred,{onPress:o}):(0,i.jsx)(i.Fragment,{children:e})}},304358:(e,n,r)=>{r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var t=r(514041),o=r(908867),a=r(490343),s=r(610421),i=r(498356),d=r(326745),l=r(911998),u=r(334439),c=r(392097),m=r(567807),f=r(184251),b=r(73197),g=r(338443),x=r(138584),p=r(544577),h=r(831085);const __WEBPACK_DEFAULT_EXPORT__=function(){var e,n=(0,d.u)(),r=(0,o.A)(),k=(0,i.A)(),{accountId:j,networkId:y,symbol:_,provider:S,details:v}=n.params,{result:w,isLoading:T,run:E}=(0,l.yk)((function(){return s.A.serviceStaking.getWithdrawList({networkId:y,accountId:j,symbol:_,provider:S})}),[j,y,_,S],{watchLoading:!0}),M=(0,t.useCallback)((function({item:e}){k.push(c.Ax.Withdraw,{accountId:j,networkId:y,symbol:_,provider:S,details:v,identity:e.id,amount:e.amount,onSuccess:function(){setTimeout((function(){return k.pop()}),4)}})}),[k,j,y,_,S,v]),$=(0,p.B)(),P=r.formatMessage({id:u.ETranslations.earn_select_an_order_to_withdraw});return S.toLowerCase()===b.e.Babylon.toLowerCase()&&(P=r.formatMessage({id:u.ETranslations.earn_select_for_early_withdrawal}),e=(0,h.jsx)(a.SectionList.SectionHeader,{title:r.formatMessage({id:u.ETranslations.earn_select_for_early_withdrawal_desc})})),(0,h.jsxs)(a.Page,{scrollEnabled:!0,children:[(0,h.jsx)(a.Page.Header,{title:P}),(0,h.jsx)(a.Page.Body,{children:(0,h.jsx)(x.bU,{LoadingSkeleton:x.Py,loading:(0,x.am)({result:w,isLoading:T}),error:(0,x.o0)({result:w,isLoading:T}),onRefresh:E,children:w?(0,h.jsx)(g.m,{ListHeaderComponent:e,items:w.items,token:w.token,network:w.network,onPress:M,onConfirmText:r.formatMessage({id:u.ETranslations.global_continue}),extraFields:f.A.isBTCNetwork(y)?[{name:r.formatMessage({id:u.ETranslations.global_status}),renderItem({item:e}){var n;return e.babylonExtra?null!=(n=$[(0,p.U)(e.babylonExtra)])?n:e.babylonExtra.status:""}},{name:r.formatMessage({id:u.ETranslations.earn_unlock_time}),renderItem:({item:e})=>e.babylonExtra?.endTime?(0,m.Yq)(new Date(e.babylonExtra?.endTime),{hideTimeForever:!0}):""}]:void 0}):null})})]})}},544577:(e,n,r)=>{r.d(n,{B:()=>useBabylonStatusMap,U:()=>getBabylonPortfolioStatus});var t=r(514041),o=r(908867),a=r(334439),getBabylonPortfolioStatus=function(e){return e.isOverflow?"overflow":e.status},useBabylonStatusMap=function(){var e=(0,o.A)();return(0,t.useMemo)((function(){return{active:e.formatMessage({id:a.ETranslations.earn_active}),withdraw_requested:e.formatMessage({id:a.ETranslations.earn_withdrawal_requested}),overflow:e.formatMessage({id:a.ETranslations.earn_overflow}),claimable:e.formatMessage({id:a.ETranslations.earn_claimable}),claimed:e.formatMessage({id:a.ETranslations.earn_claimed})}}),[e])}}}]);