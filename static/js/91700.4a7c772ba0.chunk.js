"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[91700],{326745:(e,t,n)=>{n.d(t,{u:()=>useAppRoute});var r=n(654266);function useAppRoute(){return(0,r.lq)()}},925771:(e,t,n)=>{n.d(t,{$:()=>CalculationListItem,k:()=>CalculationList});var r=n(324586),o=n(839850),a=n(490343),i=n(831085),s=["children"],l=["children"],c=["children"];function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CalculationList({children:e}){return(0,i.jsx)(a.YStack,{gap:"$4",children:e})}function CalculationListItem(e){var{children:t}=e,n=(0,o.A)(e,s);return(0,i.jsx)(a.XStack,_objectSpread(_objectSpread({animation:"quick",enterStyle:{opacity:0},justifyContent:"space-between",alignItems:"center"},n),{},{children:t}))}CalculationList.Item=CalculationListItem,CalculationListItem.Label=function CalculationListItemLabel(e){var{children:t}=e,n=(0,o.A)(e,l);return(0,i.jsx)(a.SizableText,_objectSpread(_objectSpread({color:"$textSubdued"},n),{},{children:t}))},CalculationListItem.Value=function CalculationListItemValue(e){var{children:t}=e,n=(0,o.A)(e,c);return(0,i.jsx)(a.SizableText,_objectSpread(_objectSpread({size:"$bodyLgMedium"},n),{},{children:t}))}},286192:(e,t,n)=>{n.d(t,{BA:()=>EstimateNetworkFee,QL:()=>useShowClaimEstimateGasAlert,fH:()=>calcDaysSpent,sM:()=>useShowStakeEstimateGasAlert});var r=n(514041),o=n(241440),a=n(908867),i=n(490343),s=n(259227),l=n(334439),c=n(925771),d=n(831085),useShowStakeEstimateGasAlert=function(){var e=(0,a.A)(),[{currencyInfo:{symbol:t}}]=(0,s.useSettingsPersistAtom)();return(0,r.useCallback)((function({daysConsumed:n,estFiatValue:r,onConfirm:o}){var a=n?e.formatMessage({id:l.ETranslations.earn_transaction_loss_when_stake},{number:(0,d.jsx)(i.SizableText,{size:"$bodyLgMedium",color:"$textCaution",children:n})}):void 0;i.Dialog.show({title:e.formatMessage({id:l.ETranslations.earn_transaction_loss}),icon:"InfoCircleOutline",description:a,renderContent:(0,d.jsxs)(i.XStack,{children:[(0,d.jsxs)(i.SizableText,{size:"$bodyLg",mr:"$1",children:[e.formatMessage({id:l.ETranslations.global_est_network_fee}),":"]}),(0,d.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:t},children:r})]}),onConfirm:o})}),[e,t])},useShowClaimEstimateGasAlert=function(){var e=(0,a.A)(),[{currencyInfo:{symbol:t}}]=(0,s.useSettingsPersistAtom)();return(0,r.useCallback)((function({claimTokenFiatValue:n,estFiatValue:r,onConfirm:a}){var s=(0,o.A)(n).minus(r).absoluteValue().toFixed(),c=e.formatMessage({id:l.ETranslations.earn_transaction_loss_when_claim},{number:(0,d.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",color:"$textCaution",formatterOptions:{currency:t},children:s})});i.Dialog.show({title:e.formatMessage({id:l.ETranslations.earn_transaction_loss}),icon:"InfoCircleOutline",description:c,renderContent:(0,d.jsxs)(i.YStack,{children:[(0,d.jsxs)(i.XStack,{children:[(0,d.jsxs)(i.SizableText,{size:"$bodyLg",mr:"$1",children:[e.formatMessage({id:l.ETranslations.global_est_network_fee}),":"]}),(0,d.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:t},children:r})]}),(0,d.jsxs)(i.XStack,{children:[(0,d.jsxs)(i.SizableText,{size:"$bodyLg",mr:"$1",children:[e.formatMessage({id:l.ETranslations.earn_reward_value}),":"]}),(0,d.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:t},children:n})]})]}),onConfirm:a})}),[e,t])},EstimateNetworkFeeListItem=function({estFiatValue:e,onPress:t}){var n=(0,a.A)(),[{currencyInfo:{symbol:r}}]=(0,s.useSettingsPersistAtom)();return Number(e)>0?(0,d.jsxs)(c.$,{onPress:t,children:[(0,d.jsx)(c.$.Label,{children:n.formatMessage({id:l.ETranslations.global_est_network_fee})}),(0,d.jsxs)(i.XStack,{alignItems:"center",cursor:t?"pointer":void 0,mr:t?-6:void 0,children:[(0,d.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"value",formatterOptions:{currency:r},children:e}),t?(0,d.jsx)(i.Icon,{name:"ChevronRightSmallOutline",size:24}):null]})]}):null},calcDaysSpent=function(e,t){var n=(0,o.A)(t).div(e).multipliedBy(365);return n.isNaN()?void 0:Math.ceil(n.toNumber())},EstimateNetworkFee=function({estimateFeeResp:e,onPress:t,isVisible:n}){return e&&n?(0,d.jsx)(EstimateNetworkFeeListItem,{estFiatValue:e.feeFiatValue,onPress:t}):null}},138584:(e,t,n)=>{n.d(t,{Py:()=>SimpleSpinnerSkeleton,am:()=>isLoadingState,bU:()=>PageFrame,o0:()=>isErrorState});var r=n(908867),o=n(490343),a=n(791088),i=n(334439),s=n(831085),PageErrOccurred=function({onPress:e}){var t=(0,r.A)();return(0,s.jsx)(o.Empty,{pt:"$32",icon:"ErrorOutline",title:t.formatMessage({id:i.ETranslations.global_an_error_occurred}),description:t.formatMessage({id:i.ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress:e,children:t.formatMessage({id:i.ETranslations.global_refresh})}})},SimpleSpinnerSkeleton=function(){return(0,s.jsxs)(o.Stack,{children:[(0,s.jsx)(o.Stack,{px:"$5",py:"$2",children:(0,s.jsx)(o.Skeleton.HeadingSm,{})}),Array.from({length:3}).map((function(e,t){return(0,s.jsxs)(a.c,{children:[(0,s.jsx)(o.Skeleton,{h:"$10",w:"$10",radius:"round"}),(0,s.jsxs)(o.Stack,{children:[(0,s.jsx)(o.Skeleton.BodyLg,{}),(0,s.jsx)(o.Skeleton.BodyMd,{})]})]},t)}))]})},isLoadingState=function({result:e,isLoading:t}){return Boolean(void 0===e&&(void 0===t||!0===t))},isErrorState=function({result:e,isLoading:t}){return Boolean(void 0===e&&!1===t)},PageFrame=function({children:e,loading:t,LoadingSkeleton:n,error:r,onRefresh:o}){return t?n?(0,s.jsx)(n,{}):null:r?(0,s.jsx)(PageErrOccurred,{onPress:o}):(0,s.jsx)(s.Fragment,{children:e})}},653913:(e,t,n)=>{n.d(t,{B8:()=>useUniversalStake,D0:()=>useUniversalClaim,Pg:()=>useUniversalWithdraw});var r=n(586330),o=n(514041),a=n(241440),i=n(610421),s=n(927799),l=n(184251),c=n(161024),d=n(286192);function useUniversalStake({networkId:e,accountId:t}){var n,{navigationToSendConfirm:a}=(0,s.E)({accountId:t,networkId:e});return(0,o.useCallback)((n=(0,r.A)((function*({amount:n,symbol:r,term:o,provider:s,stakingInfo:c,onSuccess:d,onFail:u}){var m,b,f=yield i.A.serviceStaking.buildStakeTransaction({amount:n,networkId:e,accountId:t,symbol:r,term:o,provider:s}),g=yield i.A.serviceStaking.buildEarnTx({networkId:e,accountId:t,tx:f});l.A.isBTCNetwork(e)&&(m=!0,b=!1),yield a({encodedTx:g,stakingInfo:c,onSuccess:d,onFail:u,useFeeInTx:m,feeInfoEditable:b})})),function(e){return n.apply(this,arguments)}),[a,t,e])}function useUniversalWithdraw({networkId:e,accountId:t}){var n,{navigationToSendConfirm:a}=(0,s.E)({accountId:t,networkId:e});return(0,o.useCallback)((n=(0,r.A)((function*({amount:n,symbol:o,provider:s,identity:l,stakingInfo:d,onSuccess:u,onFail:m}){var b,f=yield i.A.serviceStaking.getStakingConfigs({networkId:e,symbol:o,provider:s});if(!f)throw new Error("Staking config not found");if(f?.unstakeWithSignMessage){var g=yield i.A.serviceAccount.getAccount({accountId:t,networkId:e}),{message:p,deadline:k}=yield i.A.serviceStaking.buildLidoEthPermitMessageData({accountId:t,networkId:e,amount:n}),y=yield i.A.serviceDApp.openSignMessageModal({accountId:t,networkId:e,request:{origin:"https://lido.fi/",scope:"ethereum"},unsignedMessage:{type:c.$.TYPED_DATA_V4,message:p,payload:[g.address,p]},walletInternalSign:!0});b=yield i.A.serviceStaking.buildUnstakeTransaction({amount:n,networkId:e,accountId:t,symbol:o,provider:s,signature:y,deadline:k})}else b=yield i.A.serviceStaking.buildUnstakeTransaction({amount:n,identity:l,networkId:e,accountId:t,symbol:o,provider:s});var x,v=yield i.A.serviceStaking.buildEarnTx({networkId:e,accountId:t,tx:b});yield a({encodedTx:v,stakingInfo:d,signOnly:f?.withdrawSignOnly,onSuccess:(x=(0,r.A)((function*(n){if(f?.withdrawSignOnly){var r=n[0].signedTx.finalizedPsbtHex;r&&l&&(yield i.A.serviceStaking.unstakePush({txId:l,networkId:e,accountId:t,symbol:o,provider:s,unstakeTxHex:r}),u?.(n))}else u?.(n)})),function onSuccess(e){return x.apply(this,arguments)}),onFail:m})})),function(e){return n.apply(this,arguments)}),[t,e,a])}function useUniversalClaim({networkId:e,accountId:t}){var n,{navigationToSendConfirm:l}=(0,s.E)({accountId:t,networkId:e}),c=(0,d.QL)();return(0,o.useCallback)((n=(0,r.A)((function*({identity:n,amount:o,provider:s,symbol:d,stakingInfo:u,onSuccess:m,onFail:b}){var f,g=(f=(0,r.A)((function*(){var r=yield i.A.serviceStaking.buildClaimTransaction({networkId:e,accountId:t,symbol:d,provider:s,amount:o,identity:n}),a=yield i.A.serviceStaking.buildEarnTx({networkId:e,accountId:t,tx:r});yield l({encodedTx:a,stakingInfo:u,onSuccess:m,onFail:b})})),function continueClaim(){return f.apply(this,arguments)});if(Number(o)>0){var p=yield i.A.serviceStaking.estimateFee({networkId:e,provider:s,symbol:d,action:"claim",amount:o}),k=(0,a.A)(p.token.price).multipliedBy(o);if(k.lt(p.feeFiatValue))return void c({claimTokenFiatValue:k.toFixed(),estFiatValue:p.feeFiatValue,onConfirm:g})}yield g()})),function(e){return n.apply(this,arguments)}),[l,t,e,c])}},91700:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(586330),o=n(514041),a=n(908867),i=n(490343),s=n(610421),l=n(325809),c=n(498356),d=n(326745),u=n(911998),m=n(334439),b=n(392097),f=n(184251),g=n(714191),p=n(550082),k=n(138584),y=n(831085);function FaqInfo({solutions:e}){var t=(0,a.A)();return(0,y.jsxs)(i.YStack,{gap:"$6",children:[(0,y.jsx)(i.SizableText,{size:"$headingLg",children:t.formatMessage({id:m.ETranslations.global_faqs})}),(0,y.jsx)(i.YStack,{children:(0,y.jsx)(i.Accordion,{type:"multiple",gap:"$2",children:e.map((function({question:e,answer:t},n){return(0,y.jsxs)(i.Accordion.Item,{value:String(n),children:[(0,y.jsx)(i.Accordion.Trigger,{unstyled:!0,flexDirection:"row",alignItems:"center",borderWidth:0,bg:"$transparent",px:"$2",py:"$1",mx:"$-2",my:"$-1",hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"},borderRadius:"$2",children:function({open:t}){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.SizableText,{textAlign:"left",flex:1,size:"$bodyLgMedium",color:t?"$text":"$textSubdued",children:e}),(0,y.jsx)(i.Stack,{animation:"quick",rotate:t?"180deg":"0deg",children:(0,y.jsx)(i.Icon,{name:"ChevronDownSmallOutline",color:t?"$iconActive":"$iconSubdued",size:"$5"})})]})}}),(0,y.jsx)(i.Accordion.HeightAnimator,{animation:"quick",children:(0,y.jsx)(i.Accordion.Content,{unstyled:!0,pt:"$2",pb:"$5",animation:"quick",enterStyle:{opacity:0},exitStyle:{opacity:0},children:(0,y.jsx)(i.SizableText,{size:"$bodyMd",children:t})})})]},String(n))}))})})]})}var FaqSection=function({details:e}){var{result:t}=(0,u.yk)((0,r.A)((function*(){return e?s.A.serviceStaking.getFAQList({symbol:e.token.info.symbol,provider:e.provider.name}):Promise.resolve([])})),[e],{initResult:[]});return 0===t.length?null:(0,y.jsx)(FaqInfo,{solutions:t})},x=n(353203),v=n(162616),S=n(491180);function NoAddressWarning({accountId:e,networkId:t,indexedAccountId:n,onCreateAddress:l}){var c=(0,a.A)(),[d,b]=(0,o.useState)(!1),{activeAccount:{wallet:g}}=(0,v.LH)({num:0}),{createAddress:p}=(0,x.m)(),k=(0,o.useCallback)((0,r.A)((function*(){b(!0);try{var e=yield s.A.serviceNetwork.getGlobalDeriveTypeOfNetwork({networkId:t});yield p({num:0,account:{walletId:g?.id,networkId:t,indexedAccountId:n,deriveType:f.A.isBTCNetwork(t)?"BIP86":e},selectAfterCreate:!1}),l()}finally{b(!1)}})),[g,n,t,p,l]),{result:h}=(0,u.yk)((0,r.A)((function*(){var{serviceAccount:r,serviceNetwork:o}=s.A,a="";try{a=(yield r.getAccount({accountId:e,networkId:t})).name}catch(e){if(n)a=(yield r.getIndexedAccount({id:n})).name}return{accountName:a,networkName:(yield o.getNetwork({networkId:t})).name}})),[e,n,t]),j=S.A.isOthersAccount({accountId:e}),w=(0,o.useMemo)((function(){var e,n;return j?{title:c.formatMessage({id:m.ETranslations.wallet_unsupported_network_title},{network:null!=(n=h?.networkName)?n:""}),description:c.formatMessage({id:m.ETranslations.wallet_unsupported_network_desc})}:{title:c.formatMessage({id:m.ETranslations.wallet_no_address}),description:c.formatMessage({id:m.ETranslations.global_private_key_error},{network:null!=(e=h?.networkName)?e:"",path:f.A.isBTCNetwork(t)?"(Taproot)":""})}}),[h,j,t,c]);return h?(0,y.jsx)(i.Alert,{type:"warning",title:w.title,description:w.description,action:j?void 0:{primary:c.formatMessage({id:m.ETranslations.dapp_connect_create}),onPrimaryPress:function(){return k()},isPrimaryLoading:d}}):null}var h=n(324586),j=n(17617),w=n(391944),I=n(73197);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PortfolioItem=function({tokenImageUri:e,tokenSymbol:t,amount:n,statusText:a,onPress:s,buttonText:l,tooltip:c,disabled:d,useLoading:u}){var[m,b]=(0,o.useState)(!1),f=(0,o.useCallback)((0,r.A)((function*(){try{u&&b(!0),yield s?.()}finally{u&&b(!1)}})),[s,u]);return(0,y.jsxs)(i.XStack,{minHeight:30,alignItems:"center",justifyContent:"space-between",children:[(0,y.jsxs)(i.XStack,{alignItems:"center",gap:"$1.5",children:[(0,y.jsx)(w.o,{size:"sm",tokenImageUri:e}),(0,y.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"balance",formatterOptions:{tokenSymbol:t},children:n}),(0,y.jsx)(i.XStack,{gap:"$1",ai:"center",children:(0,y.jsx)(i.SizableText,{size:"$bodyLg",children:a})}),c?(0,y.jsx)(i.Popover,{placement:"bottom",title:a,renderTrigger:(0,y.jsx)(i.IconButton,{iconColor:"$iconSubdued",size:"small",icon:"InfoCircleOutline",variant:"tertiary"}),renderContent:(0,y.jsx)(i.Stack,{p:"$5",children:(0,y.jsx)(i.SizableText,{children:c})})}):null]}),l&&s?(0,y.jsx)(i.Button,{size:"small",disabled:d,variant:"primary",onPress:f,loading:m,children:l}):null]})};function PortfolioInfo({token:e,active:t,pendingInactive:n,pendingInactivePeriod:r,pendingActive:o,pendingActiveTooltip:s,claimable:l,rewards:c,tooltipForClaimable:d,labelForClaimable:u,minClaimableNum:b,babylonOverflow:f,onClaim:g,onWithdraw:p,onPortfolioDetails:k}){var x=(0,a.A)();if(Number(n)>0||Number(l)>0||Number(o)>0||Number(f)>0||Number(t)>0){var v=Boolean(b&&c&&Number(c)<Number(b));return(0,y.jsxs)(i.YStack,{gap:"$6",children:[(0,y.jsxs)(i.XStack,{justifyContent:"space-between",children:[(0,y.jsx)(i.SizableText,{size:"$headingLg",children:x.formatMessage({id:m.ETranslations.earn_portfolio})}),void 0!==k?(0,y.jsx)(i.Button,{variant:"tertiary",iconAfter:"ChevronRightOutline",onPress:k,children:x.formatMessage({id:m.ETranslations.global_details})}):null]}),(0,y.jsxs)(i.YStack,{gap:"$3",children:[o&&Number(o)?(0,y.jsx)(PortfolioItem,{tokenImageUri:e.logoURI,tokenSymbol:e.symbol,amount:o,tooltip:s,statusText:x.formatMessage({id:m.ETranslations.earn_pending_activation})}):null,t&&Number(t)?(0,y.jsx)(PortfolioItem,{tokenImageUri:e.logoURI,tokenSymbol:e.symbol,amount:t,statusText:x.formatMessage({id:m.ETranslations.earn_active})}):null,n&&Number(n)?(0,y.jsx)(PortfolioItem,{tokenImageUri:e.logoURI,tokenSymbol:e.symbol,amount:n,statusText:x.formatMessage({id:m.ETranslations.earn_withdrawal_requested}),tooltip:r?x.formatMessage({id:m.ETranslations.earn_withdrawal_up_to_number_days},{number:r}):void 0}):null,l&&Number(l)>0?(0,y.jsx)(PortfolioItem,{tokenImageUri:e.logoURI,tokenSymbol:e.symbol,amount:l,statusText:null!=u?u:x.formatMessage({id:m.ETranslations.earn_claimable}),useLoading:!0,onPress:g,buttonText:x.formatMessage({id:m.ETranslations.earn_claim}),tooltip:d}):null,c&&Number(c)>0?(0,y.jsx)(PortfolioItem,{tokenImageUri:e.logoURI,tokenSymbol:e.symbol,amount:c,statusText:x.formatMessage({id:m.ETranslations.earn_rewards}),onPress:function(){return g?.({isReward:!0})},useLoading:!0,buttonText:x.formatMessage({id:m.ETranslations.earn_claim}),tooltip:v?x.formatMessage({id:m.ETranslations.earn_minimum_claim_tooltip},{number:b,symbol:e.symbol}):void 0,disabled:v}):null,Number(f)>0?(0,y.jsx)(i.Alert,{fullBleed:!0,borderRadius:"$3",borderWidth:j.A.hairlineWidth,borderColor:"$borderCautionSubdued",type:"critical",title:x.formatMessage({id:m.ETranslations.earn_overflow_number_alert},{number:f}),action:{primary:x.formatMessage({id:m.ETranslations.global_withdraw}),onPrimaryPress:p}}):null]})]})}return null}var PortfolioSection=function({details:e,onClaim:t,onWithdraw:n,onPortfolioDetails:r}){var o,i,s,l=(0,a.A)();if(!e)return null;e.provider.name.toLowerCase()===I.e.Everstake.toLowerCase()&&"eth"===e.token.info.symbol.toLowerCase()?o=l.formatMessage({id:m.ETranslations.earn_pending_activation_tooltip_eth}):e.pendingActivatePeriod&&(o=l.formatMessage({id:m.ETranslations.earn_pending_activation_tooltip},{number:e.pendingActivatePeriod})),e.provider.name.toLowerCase()===I.e.Everstake.toLowerCase()&&"atom"===e.token.info.symbol.toLowerCase()&&(s=l.formatMessage({id:m.ETranslations.earn_claim_together_tooltip})),e.provider.name.toLowerCase()===I.e.Everstake.toLowerCase()&&"matic"===e.token.info.symbol.toLowerCase()&&(i=l.formatMessage({id:m.ETranslations.earn_withdrawn}));var c={pendingInactive:e.pendingInactive,pendingInactivePeriod:e.unstakingPeriod?String(e.unstakingPeriod):void 0,pendingActive:e.pendingActive,pendingActiveTooltip:o,claimable:e.claimable,rewards:e.rewards,active:e.active,minClaimableNum:e.provider.minClaimableAmount,babylonOverflow:Number(e?.staked)>0&&Number(e.overflow)>0?e.overflow:void 0,token:e.token.info,labelForClaimable:i,tooltipForClaimable:s};return(0,y.jsx)(PortfolioInfo,_objectSpread(_objectSpread({},c),{},{onClaim:t,onPortfolioDetails:r,onWithdraw:n}))},_=n(259227),A=n(839850),T=n(117746),P=["title","children","tooltip","link"];function GridItem_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GridItem_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GridItem_ownKeys(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GridItem_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GridItem(e){var{title:t,children:n,tooltip:r,link:a}=e,s=(0,A.A)(e,P),l=(0,o.useCallback)((function(){a&&(0,T.Dr)(a)}),[a]);return(0,y.jsxs)(i.YStack,GridItem_objectSpread(GridItem_objectSpread({p:"$3",flexBasis:"50%",$gtMd:{flexBasis:"33.33%"}},s),{},{children:[(0,y.jsxs)(i.XStack,{gap:"$1",mb:"$1",children:[(0,y.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",children:t}),r?(0,y.jsx)(i.Popover,{placement:"top",title:t,renderTrigger:(0,y.jsx)(i.IconButton,{iconColor:"$iconSubdued",size:"small",icon:"InfoCircleOutline",variant:"tertiary"}),renderContent:(0,y.jsx)(i.Stack,{p:"$5",children:(0,y.jsx)(i.SizableText,{children:r})})}):null]}),(0,y.jsxs)(i.XStack,{gap:"$1",alignItems:"center",children:[(0,y.jsx)(i.SizableText,{size:"$bodyLgMedium",children:n}),a?(0,y.jsx)(i.Stack,{onPress:l,cursor:"pointer",children:(0,y.jsx)(i.Icon,{name:"OpenOutline",color:"$iconSubdued",size:"$5"})}):null]})]}))}function ProfitSection_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ProfitInfo({apr:e,earningsIn24h:t,rewardTokens:n,updateFrequency:r,unstakingPeriod:o,earnPoints:s}){var l=(0,a.A)(),[{currencyInfo:{symbol:c}}]=(0,_.useSettingsPersistAtom)();return(0,y.jsxs)(i.YStack,{gap:"$6",children:[(0,y.jsx)(i.SizableText,{size:"$headingLg",children:l.formatMessage({id:m.ETranslations.global_profit})}),s?(0,y.jsx)(i.Alert,{title:l.formatMessage({id:m.ETranslations.earn_earn_points}),description:l.formatMessage({id:m.ETranslations.earn_earn_points_desc})}):(0,y.jsxs)(i.XStack,{flexWrap:"wrap",m:"$-5",p:"$2",children:[e&&Number(e)>0?(0,y.jsx)(GridItem,{title:l.formatMessage({id:m.ETranslations.earn_rewards_percentage}),children:(0,y.jsx)(i.SizableText,{size:"$bodyLgMedium",color:"$textSuccess",children:`${e}% ${l.formatMessage({id:m.ETranslations.global_apr})}`})}):null,t&&Number(t)>0?(0,y.jsx)(GridItem,{title:l.formatMessage({id:m.ETranslations.earn_24h_earnings}),tooltip:l.formatMessage({id:m.ETranslations.earn_24h_earnings_tooltip}),children:(0,y.jsx)(i.NumberSizeableText,{formatter:"value",color:"$textSuccess",size:"$bodyLgMedium",formatterOptions:{currency:c},children:t})}):null,n?(0,y.jsx)(GridItem,{title:l.formatMessage({id:m.ETranslations.earn_reward_tokens}),children:n}):null,r?(0,y.jsx)(GridItem,{title:l.formatMessage({id:m.ETranslations.earn_update_frequency}),children:r}):null,o?(0,y.jsx)(GridItem,{title:l.formatMessage({id:m.ETranslations.earn_unstaking_period}),children:l.formatMessage({id:m.ETranslations.earn_up_to_number_days},{number:o})}):null]})]})}var ProfitSection=function({details:e}){if(!e)return null;var t={apr:Number(e.provider?.apr)>0?e.provider.apr:void 0,earningsIn24h:e.earnings24h,rewardTokens:e.rewardToken,earnPoints:e.provider.earnPoints,unstakingPeriod:e.unstakingPeriod};return(0,y.jsx)(ProfitInfo,function ProfitSection_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ProfitSection_ownKeys(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ProfitSection_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))},O=n(241440),$=n(905817);function ProviderSection_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ProviderInfo({validator:e,minOrMaxStaking:t,untilNextLaunch:n,network:r,babylonConfirmedCap:o,babylonStakingCap:s}){var l,c=(0,a.A)();if(t){var{minValue:d,maxValue:u}=t;u&&d?l={label:c.formatMessage({id:m.ETranslations.earn_min_max_staking}),value:`${d}/${u} ${t.token}`}:d&&(l={label:c.formatMessage({id:m.ETranslations.earn_min_staking}),value:`${d} ${t.token}`})}return(0,y.jsxs)(i.YStack,{gap:"$6",children:[(0,y.jsx)(i.SizableText,{size:"$headingLg",children:c.formatMessage({id:m.ETranslations.swap_history_detail_provider})}),(0,y.jsxs)(i.XStack,{flexWrap:"wrap",m:"$-5",p:"$2",children:[e?(0,y.jsx)(GridItem,{title:e.isProtocol?c.formatMessage({id:m.ETranslations.global_protocol}):c.formatMessage({id:m.ETranslations.earn_validator}),link:e.link,children:(0,$.c)(e.name)}):null,l?(0,y.jsx)(GridItem,{title:l.label,children:(0,y.jsx)(i.SizableText,{size:"$bodyLgMedium",children:l.value})}):null,n?(0,y.jsx)(GridItem,{title:c.formatMessage({id:m.ETranslations.earn_until_next_launch}),tooltip:c.formatMessage({id:m.ETranslations.earn_until_next_launch_tooltip}),children:(0,y.jsx)(i.SizableText,{size:"$bodyLgMedium",children:c.formatMessage({id:m.ETranslations.earn_number_symbol_left},{number:Number(n.value).toFixed(2),symbol:n.token})})}):null,r?.name?(0,y.jsx)(GridItem,{title:c.formatMessage({id:m.ETranslations.global_network}),children:r.name}):null,s?.value?(0,y.jsxs)(GridItem,{title:c.formatMessage({id:m.ETranslations.earn_staking_cap}),children:[s.value," BTC"]}):null,o?.value?(0,y.jsxs)(GridItem,{title:c.formatMessage({id:m.ETranslations.earn_confirmed_cap}),children:[o.value," BTC"]}):null]})]})}var ProviderSection=function({details:e}){if(!e)return null;var t={};return e.provider&&(t.validator={name:e.provider.name,link:e.provider.website,isProtocol:"everstake"!==e.provider.name.toLowerCase()},e.provider.minStakeAmount&&(t.minOrMaxStaking={minValue:Number(e.provider.minStakeAmount),maxValue:Number(e.provider.maxStakeAmount),token:e.token.info.symbol}),e.provider.nextLaunchLeft&&(t.untilNextLaunch={value:Number(e.provider.nextLaunchLeft),token:e.token.info.symbol}),"babylon"===e.provider.name&&(e.provider.stakingCap&&Number(e.provider.stakingCap)>0&&(t.babylonStakingCap={value:e.provider.stakingCap}),e.provider.totalStaked&&Number(e.provider.totalStaked)>0&&(t.babylonConfirmedCap={value:(0,O.A)(e.provider.totalStaked).decimalPlaces(4).toFixed()}))),e.network&&(t.network=e.network),0===Object.keys(t).length?null:(0,y.jsx)(ProviderInfo,function ProviderSection_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ProviderSection_ownKeys(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ProviderSection_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))};function StakedValueSection_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function StakedValueSection_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?StakedValueSection_ownKeys(Object(n),!0).forEach((function(t){(0,h.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):StakedValueSection_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function StakedValueInfo({value:e=0,stakedNumber:t=0,availableNumber:n=0,tokenSymbol:r,stakeButtonProps:o,withdrawButtonProps:s}){var l=t+n,c=(0,a.A)(),d=(0,i.useMedia)(),[{currencyInfo:{symbol:u}}]=(0,_.useSettingsPersistAtom)();return(0,y.jsxs)(i.YStack,{gap:"$6",children:[(0,y.jsxs)(i.YStack,{gap:"$2",children:[(0,y.jsx)(i.SizableText,{size:"$headingLg",children:c.formatMessage({id:m.ETranslations.earn_staked_value})}),(0,y.jsxs)(i.XStack,{gap:"$2",children:[(0,y.jsx)(i.NumberSizeableText,{flex:1,size:"$heading4xl",color:0===e?"$textDisabled":"$text",formatter:"value",formatterOptions:{currency:u},children:e||0}),d.gtMd?(0,y.jsxs)(i.XStack,{gap:"$2",children:[(0,y.jsx)(i.Button,StakedValueSection_objectSpread(StakedValueSection_objectSpread({},s),{},{children:c.formatMessage({id:m.ETranslations.global_withdraw})})),(0,y.jsx)(i.Button,StakedValueSection_objectSpread(StakedValueSection_objectSpread({},o),{},{children:c.formatMessage({id:m.ETranslations.earn_stake})}))]}):null]})]}),(0,y.jsxs)(i.YStack,{gap:"$1.5",children:[(0,y.jsx)(i.YStack,{my:"$1.5",children:(0,y.jsx)(i.Progress,{colors:["$bgSuccessStrong","$bgInverse"],size:"medium",gap:2,value:0===l?0:t/l*100})}),(0,y.jsxs)(i.XStack,{justifyContent:"space-between",children:[(0,y.jsxs)(i.YStack,{gap:"$0.5",children:[(0,y.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",children:c.formatMessage({id:m.ETranslations.earn_staked})}),(0,y.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"price",formatterOptions:{tokenSymbol:r},children:t||0})]}),(0,y.jsxs)(i.YStack,{gap:"$0.5",children:[(0,y.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSuccess",textAlign:"right",children:c.formatMessage({id:m.ETranslations.global_available})}),(0,y.jsx)(i.NumberSizeableText,{size:"$bodyLgMedium",formatter:"price",formatterOptions:{tokenSymbol:r},children:n||0})]})]})]})]})}var StakedValueSection=function({details:e,stakeButtonProps:t,withdrawButtonProps:n}){if(!e)return null;var r={value:Number(e.stakedFiatValue),stakedNumber:Number(e.staked),availableNumber:Number(e.available),tokenSymbol:e.token.info.symbol};return(0,y.jsx)(StakedValueInfo,StakedValueSection_objectSpread(StakedValueSection_objectSpread({},r),{},{stakeButtonProps:t,withdrawButtonProps:n}))};function ProtocolDetails({accountId:e,networkId:t,indexedAccountId:n,earnAccount:r,details:o,onClaim:a,onWithdraw:s,onPortfolioDetails:l,onCreateAddress:c,stakeButtonProps:d,withdrawButtonProps:u}){return o?(0,y.jsxs)(y.Fragment,{children:[r?.accountAddress?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(StakedValueSection,{details:o,stakeButtonProps:d,withdrawButtonProps:u}),(0,y.jsx)(PortfolioSection,{details:o,onClaim:a,onWithdraw:s,onPortfolioDetails:l})]}):(0,y.jsx)(NoAddressWarning,{accountId:e,networkId:t,indexedAccountId:n,onCreateAddress:c}),(0,y.jsx)(i.Divider,{}),(0,y.jsx)(ProfitSection,{details:o}),(0,y.jsx)(i.Divider,{}),(0,y.jsx)(ProviderSection,{details:o}),(0,y.jsx)(i.Divider,{}),(0,y.jsx)(FaqSection,{details:o})]}):null}var C=n(394764),M=n(153763),PendingIndicator=function({num:e,onPress:t}){var n=(0,a.A)();return(0,y.jsx)(i.Stack,{cursor:t?"pointer":"default",children:(0,y.jsxs)(i.Badge,{badgeType:"info",badgeSize:"lg",onPress:t,children:[(0,y.jsx)(i.Stack,{borderRadius:"$full",p:3,bg:"$borderInfo",children:(0,y.jsx)(i.Stack,{w:"$1.5",h:"$1.5",borderRadius:"$full",bg:"$iconInfo"})}),(0,y.jsx)(i.Badge.Text,{pl:"$2",children:e>1?`${e} ${n.formatMessage({id:m.ETranslations.global_pending})} `:n.formatMessage({id:m.ETranslations.global_pending})})]})})},StakingActivityIndicator=function({num:e,onPress:t}){var n=(0,c.A)(),r=(0,o.useCallback)((function(){return e>0?(0,y.jsx)(PendingIndicator,{num:e,onPress:t}):t?(0,y.jsx)(i.IconButton,{variant:"tertiary",size:"medium",icon:"ClockTimeHistoryOutline",onPress:t}):null}),[e,t]);return(0,o.useEffect)((function(){n.setOptions({headerRight:r})}),[n,r,e]),null},StakingTransactionIndicator=function({accountId:e,networkId:t,stakeTag:n,onRefresh:a,onPress:i}){var{result:l,run:c}=(0,u.yk)((0,r.A)((function*(){return e?s.A.serviceStaking.fetchLocalStakingHistory({accountId:e,networkId:t,stakeTag:n}):[]})),[e,t,n],{initResult:[]}),d=l.length>0,m=(0,C.Z)(d),b=(0,M.E)();return(0,o.useEffect)((function(){b&&c()}),[b,c]),(0,o.useEffect)((function(){if(d){var n=setInterval((0,r.A)((function*(){e&&(yield s.A.serviceHistory.fetchAccountHistory({accountId:e,networkId:t})),yield c()})),15e3);return function(){return clearInterval(n)}}}),[d,e,t,c]),(0,o.useEffect)((function(){!d&&m&&a?.()}),[m,d,a]),(0,y.jsx)(StakingActivityIndicator,{num:l.length,onPress:i})},OverviewSkeleton=function(){return(0,y.jsxs)(i.Stack,{gap:"$8",children:[(0,y.jsxs)(i.YStack,{gap:"$6",children:[(0,y.jsxs)(i.YStack,{gap:"$2",children:[(0,y.jsx)(i.Skeleton.HeadingLg,{}),(0,y.jsx)(i.Skeleton.Heading4Xl,{})]}),(0,y.jsxs)(i.YStack,{gap:"$1.5",children:[(0,y.jsx)(i.YStack,{py:"$1.5",children:(0,y.jsx)(i.Skeleton,{width:"100%",height:4})}),(0,y.jsxs)(i.XStack,{justifyContent:"space-between",children:[(0,y.jsxs)(i.YStack,{gap:"$0.5",children:[(0,y.jsx)(i.Skeleton.BodyMd,{}),(0,y.jsx)(i.Skeleton.BodyLg,{})]}),(0,y.jsxs)(i.YStack,{alignItems:"flex-end",gap:"$0.5",children:[(0,y.jsx)(i.Skeleton.BodyMd,{}),(0,y.jsx)(i.Skeleton.BodyLg,{})]})]})]})]}),(0,y.jsx)(i.Divider,{}),(0,y.jsxs)(i.YStack,{gap:"$6",children:[(0,y.jsx)(i.Skeleton.HeadingLg,{}),(0,y.jsxs)(i.XStack,{children:[(0,y.jsxs)(i.YStack,{gap:"$0.5",flex:1,children:[(0,y.jsx)(i.Skeleton.BodyMd,{}),(0,y.jsx)(i.Skeleton.BodyLg,{})]}),(0,y.jsxs)(i.YStack,{gap:"$0.5",flex:1,children:[(0,y.jsx)(i.Skeleton.BodyMd,{}),(0,y.jsx)(i.Skeleton.BodyLg,{})]}),(0,y.jsxs)(i.YStack,{gap:"$0.5",flex:1,$md:{display:"none"},children:[(0,y.jsx)(i.Skeleton.BodyMd,{}),(0,y.jsx)(i.Skeleton.BodyLg,{})]})]})]})]})},E=n(653913),ProtocolDetailsPage=function(){var e,t,n=(0,d.u)(),{accountId:l,networkId:g,indexedAccountId:x,symbol:v,provider:S}=n.params,h=(0,c.A)(),[j,w]=(0,o.useState)(!1),{result:I,run:_}=(0,u.yk)((0,r.A)((function*(){return s.A.serviceStaking.getEarnAccount({accountId:l,networkId:g,indexedAccountId:x})})),[l,x,g]),{result:A,isLoading:T,run:P}=(0,u.yk)((function(){return s.A.serviceStaking.getProtocolDetails({accountId:l,networkId:g,indexedAccountId:x,symbol:v,provider:S})}),[l,g,x,v,S],{watchLoading:!0}),O=(0,o.useCallback)((0,r.A)((function*(){yield _(),P()})),[_,P]),C=function(){var e,t=(0,c.A)();return(0,o.useCallback)((e=(0,r.A)((function*({details:e,accountId:n,networkId:r,symbol:o,provider:a,onSuccess:i}){if(e&&n){var l=yield s.A.serviceStaking.getStakingConfigs({networkId:r,symbol:o,provider:a});if(!l)throw new Error("Staking config not found");l.withdrawWithTx?t.push(b.Ax.WithdrawOptions,{accountId:n,networkId:r,details:e,symbol:o,provider:a}):t.push(b.Ax.Withdraw,{accountId:n,networkId:r,details:e,onSuccess:i})}})),function(t){return e.apply(this,arguments)}),[t])}(),M=function(){var e,t=(0,c.A)();return(0,o.useCallback)((e=(0,r.A)((function*({details:e,accountId:n,networkId:r,setStakeLoading:o,onSuccess:a}){if(e&&n)if(e.approveTarget){o?.(!0);try{var{allowanceParsed:i}=yield s.A.serviceStaking.fetchTokenAllowance({accountId:n,networkId:r,spenderAddress:e.approveTarget,tokenAddress:e.token.info.address});t.push(b.Ax.ApproveBaseStake,{accountId:n,networkId:r,details:e,currentAllowance:i})}finally{o?.(!1)}}else t.push(b.Ax.Stake,{accountId:n,networkId:r,details:e,onSuccess:a})})),function(t){return e.apply(this,arguments)}),[t])}(),L=(0,o.useCallback)((0,r.A)((function*(){var e;yield M({details:A,accountId:I?.accountId,networkId:g,symbol:v,provider:S,setStakeLoading:w,onSuccess:(e=(0,r.A)((function*(){f.A.isBTCNetwork(g)&&(yield P())})),function onSuccess(){return e.apply(this,arguments)})})})),[A,I,g,M,w,v,S,P]),z=(0,o.useCallback)((0,r.A)((function*(){var e;yield C({details:A,accountId:I?.accountId,networkId:g,symbol:v,provider:S,onSuccess:(e=(0,r.A)((function*(){f.A.isBTCNetwork(g)&&(yield P())})),function onSuccess(){return e.apply(this,arguments)})})})),[C,A,I,g,v,S,P]),N=function({accountId:e,networkId:t}){var n,a=(0,c.A)(),i=(0,E.D0)({networkId:t,accountId:null!=e?e:""});return(0,o.useCallback)((n=(0,r.A)((function*({details:n,symbol:r,provider:o,isReward:l,stakingInfo:c,onSuccess:d}){var u;if(n&&e){var m,f=yield s.A.serviceStaking.getStakingConfigs({networkId:t,symbol:r,provider:o});if(!f)throw new Error("Staking config not found");l?yield i({amount:null!=(m=n.rewards)?m:"0",symbol:r,provider:o,stakingInfo:c}):f.claimWithTx?a.push(b.Ax.ClaimOptions,{accountId:e,networkId:t,details:n,symbol:r,provider:o}):"everstake"!==o.toLowerCase()||"apt"!==r.toLowerCase()?yield i({amount:null!=(u=n.claimable)?u:"0",symbol:r,provider:o,stakingInfo:c}):a.push(b.Ax.Claim,{accountId:e,networkId:t,details:n,onSuccess:d,amount:f.claimWithAmount?n.claimable:void 0})}})),function(e){return n.apply(this,arguments)}),[a,e,t,i])}({accountId:I?.accountId,networkId:g}),B=(0,o.useCallback)((t=(0,r.A)((function*(e){if(A){var{isReward:t}=null!=e?e:{},n=t?A.rewards:A.claimable;yield N({details:A,isReward:t,symbol:v,provider:S,stakingInfo:{label:p.D.Claim,protocol:A.provider.name,protocolLogoURI:A.provider.logoURI,receive:{token:A.token.info,amount:null!=n?n:"0"},tags:[(0,$.Y)(A)]}})}})),function(e){return t.apply(this,arguments)}),[N,A,v,S]),D=(0,o.useMemo)((function(){return f.A.isBTCNetwork(g)&&I?.accountId?function(){h.push(b.Ax.PortfolioDetails,{accountId:I?.accountId,networkId:g,symbol:v,provider:S})}:void 0}),[h,I?.accountId,g,v,S]),F=(0,o.useMemo)((function(){if(A?.earnHistoryEnable&&I?.accountId)return function(){h.navigate(b.Ax.HistoryList,{accountId:I?.accountId,networkId:g,symbol:v,provider:S,stakeTag:(0,$.Y)(A)})}}),[h,I?.accountId,g,v,S,A]),V=(0,a.A)(),Y=(0,i.useMedia)(),R=(0,o.useMemo)((function(){return{variant:"primary",loading:j,onPress:L,disabled:!I?.accountAddress}}),[j,I?.accountAddress,L]),U=(0,o.useMemo)((function(){return{onPress:z,disabled:!I?.accountAddress||!(Number(A?.active)>0||Number(A?.overflow)>0)}}),[z,I?.accountAddress,A?.active,A?.overflow]);return(0,y.jsxs)(i.Page,{scrollEnabled:!0,children:[(0,y.jsx)(i.Page.Header,{title:V.formatMessage({id:m.ETranslations.earn_earn_symbol},{symbol:f.A.isBTCNetwork(g)?`${v} (Taproot)`:v})}),(0,y.jsx)(i.Page.Body,{px:"$5",pb:"$5",gap:"$8",children:(0,y.jsxs)(k.bU,{LoadingSkeleton:OverviewSkeleton,loading:(0,k.am)({result:A,isLoading:T}),error:(0,k.o0)({result:A,isLoading:T}),onRefresh:P,children:[(0,y.jsx)(ProtocolDetails,{accountId:l,networkId:g,indexedAccountId:x,earnAccount:I,details:A,onClaim:B,onWithdraw:z,onPortfolioDetails:D,onCreateAddress:O,withdrawButtonProps:U,stakeButtonProps:R}),Y.gtMd?null:(0,y.jsx)(i.Page.Footer,{onConfirmText:V.formatMessage({id:m.ETranslations.earn_stake}),confirmButtonProps:R,onCancelText:V.formatMessage({id:m.ETranslations.global_withdraw}),cancelButtonProps:U}),A?(0,y.jsx)(StakingTransactionIndicator,{accountId:null!=(e=I?.accountId)?e:"",networkId:g,stakeTag:(0,$.Y)(A),onRefresh:P,onPress:F}):null]})})]})};const L=function ProtocolDetailsPageWithProvider(){return(0,y.jsx)(l.b8,{config:{sceneName:g.Zs.home,sceneUrl:""},enabledNum:[0],children:(0,y.jsx)(ProtocolDetailsPage,{})})}},905817:(e,t,n)=>{n.d(t,{FZ:()=>countDecimalPlaces,Y:()=>buildLocalTxStatusSyncId,c:()=>capitalizeString});var r=n(241440),buildLocalTxStatusSyncId=function(e){return`${e.provider.name.toLowerCase()}-${e.token.info.symbol.toLowerCase()}`};function capitalizeString(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}function countDecimalPlaces(e){var t="string"==typeof e?Number(e):e;if(Number.isNaN(t))return 0;var n="string"==typeof e?e:(0,r.A)(e).toFixed(),o=n.indexOf(".");return-1===o?0:n.length-o-1}}}]);